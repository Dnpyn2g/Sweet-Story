<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MGID Debug Test</title>
  
  <!-- –°—Ç–∏–ª–∏ -->
  <link rel="stylesheet" href="styles.css">
  
  <!-- MGID –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —Å–∫—Ä–∏–ø—Ç - –¢–û–ß–ù–û –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ -->  
  <script src="https://jsc.mgid.com/site/1042649.js" async></script>
</head>
<body>
  <header class="site-header">
    <div class="container">
      <a href="index.html" class="logo">Sweet Story</a>
      <nav>
        <ul>
          <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
          <li><a href="about.html">–û –Ω–∞—Å</a></li>
          <li><a href="contact.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <div class="container">
    <div class="main-content">
      <h1>üêõ MGID Debug Test</h1>
      
      <div style="background: #fff3cd; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #ffc107;">
        <h3>üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:</h3>
        <ul>
          <li><strong>Site ID:</strong> 1042649</li>
          <li><strong>Widget ID (—Å—Ç–∞—Ç—å–∏):</strong> 1828363</li>
          <li><strong>Widget ID (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è):</strong> 1828354</li>
          <li><strong>HEAD —Å–∫—Ä–∏–ø—Ç:</strong> https://jsc.mgid.com/site/1042649.js</li>
        </ul>
      </div>

      <div id="console-output" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 20px 0; font-family: monospace; max-height: 200px; overflow-y: auto;">
        <strong>–ö–æ–Ω—Å–æ–ª—å –æ—Ç–ª–∞–¥–∫–∏:</strong><br>
      </div>

      <!-- MGID Widget —Å—Ç–∞—Ç—å–∏ -->
      <h2>üì∞ –í–∏–¥–∂–µ—Ç —Å—Ç–∞—Ç–µ–π (ID: 1828363)</h2>
      <div class="mgid-container">
        <div class="mgid-header">
          <span class="mgid-icon">üì∞</span>
          <span class="mgid-title">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å—Ç–∞—Ç—å–∏</span>
        </div>
        <div class="mgid-content">
          <div data-type="_mgwidget" data-widget-id="1828363"></div>
          <script>(function(w,q){w[q]=w[q]||[];w[q].push(["_mgc.load"])})(window,"_mgq");</script>
        </div>
      </div>

      <!-- MGID Widget —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
      <h2>üîî –í–∏–¥–∂–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (ID: 1828354)</h2>
      <div class="mgid-container">
        <div class="mgid-header">
          <span class="mgid-icon">üîî</span>
          <span class="mgid-title">Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
        </div>
        <div class="mgid-content">
          <div data-type="_mgwidget" data-widget-id="1828354"></div>
          <script>(function(w,q){w[q]=w[q]||[];w[q].push(["_mgc.load"])})(window,"_mgq");</script>
        </div>
      </div>

      <!-- –ï—â–µ –æ–¥–∏–Ω –≤–∏–¥–∂–µ—Ç —Å—Ç–∞—Ç–µ–π –¥–ª—è —Ç–µ—Å—Ç–∞ -->
      <h2>üî• –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–∏–¥–∂–µ—Ç —Å—Ç–∞—Ç–µ–π</h2>
      <div class="mgid-container">
        <div class="mgid-header">
          <span class="mgid-icon">üî•</span>
          <span class="mgid-title">–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</span>
        </div>
        <div class="mgid-content">
          <div data-type="_mgwidget" data-widget-id="1828363"></div>
          <script>(function(w,q){w[q]=w[q]||[];w[q].push(["_mgc.load"])})(window,"_mgq");</script>
        </div>
      </div>

      <div style="background: #d4edda; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h3>‚úÖ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏:</h3>
        <ol>
          <li>MGID —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ HEAD</li>
          <li>–í–∏–¥–∂–µ—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</li>
          <li>–ß–µ—Ä–µ–∑ 3-10 —Å–µ–∫—É–Ω–¥ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ä–µ–∫–ª–∞–º–∞</li>
          <li>–í –∫–æ–Ω—Å–æ–ª–∏ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫</li>
        </ol>
      </div>

      <div style="background: #f8d7da; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h3>‚ùå –ï—Å–ª–∏ –≤–∏–¥–∂–µ—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:</h3>
        <ul>
          <li>–û—Ç–∫–ª—é—á–∏—Ç–µ –±–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫–∏ —Ä–µ–∫–ª–∞–º—ã</li>
          <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network –≤–∫–ª–∞–¥–∫—É –≤ DevTools</li>
          <li>–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è 1042649.js</li>
          <li>–û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –ø–æ HTTP/HTTPS (–Ω–µ file://)</li>
        </ul>
      </div>

    </div>
  </div>

  <footer class="site-footer">
    <div class="container">¬© 2025 Sweet Story - MGID Debug Page</div>
  </footer>

  <script>
    // –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
    const consoleOutput = document.getElementById('console-output');
    
    function log(message) {
      console.log(message);
      consoleOutput.innerHTML += new Date().toLocaleTimeString() + ': ' + message + '<br>';
      consoleOutput.scrollTop = consoleOutput.scrollHeight;
    }
    
    log('üîç Debug page –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É MGID —Å–∫—Ä–∏–ø—Ç–∞ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
    let checkCount = 0;
    const maxChecks = 10;
    
    const checkMGID = () => {
      checkCount++;
      
      if (window._mgq) {
        log(`‚úÖ MGID —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∂–µ–Ω! _mgq.length: ${window._mgq.length}`);
        log(`üìä _mgq —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ: ${JSON.stringify(window._mgq)}`);
      } else {
        log(`‚è≥ MGID —Å–∫—Ä–∏–ø—Ç –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω (–ø–æ–ø—ã—Ç–∫–∞ ${checkCount}/${maxChecks})`);
      }
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∏–¥–∂–µ—Ç—ã
      const widgets = document.querySelectorAll('[data-type="_mgwidget"]');
      log(`üéØ –ù–∞–π–¥–µ–Ω–æ –≤–∏–¥–∂–µ—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ: ${widgets.length}`);
      
      widgets.forEach((widget, index) => {
        const widgetId = widget.getAttribute('data-widget-id');
        const hasContent = widget.innerHTML.trim() !== '';
        log(`üì¶ –í–∏–¥–∂–µ—Ç ${index + 1}: ID=${widgetId}, –°–æ–¥–µ—Ä–∂–∏–º–æ–µ=${hasContent ? '–ï–°–¢–¨' : '–ù–ï–¢'}`);
      });
      
      if (checkCount < maxChecks) {
        setTimeout(checkMGID, 2000);
      } else {
        log('‚è∞ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ø–æ—Å–ª–µ ' + maxChecks + ' –ø–æ–ø—ã—Ç–æ–∫');
      }
    };
    
    // –ù–∞—á–∏–Ω–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
    setTimeout(checkMGID, 1000);
    
    // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏
    window.addEventListener('error', (e) => {
      log(`‚ùå JavaScript –æ—à–∏–±–∫–∞: ${e.message} –≤ ${e.filename}:${e.lineno}`);
    });
    
    // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º Network –æ—à–∏–±–∫–∏
    window.addEventListener('unhandledrejection', (e) => {
      log(`‚ùå Promise rejection: ${e.reason}`);
    });
  </script>
</body>
</html>
